- type: entity
  id: ChemEffectBase
  noSpawn: true
  components:
  - type: Appearance
  - type: ChemistryEffectVisuals
  - type: AnimationPlayer

# Smoke
- type: entity
  id: Smoke
  parent: ChemEffectBase
  name: smoke
  components:
  - type: Sprite
    drawdepth: Effects
    sprite: Effects/chemsmoke.rsi
    layers:
      - state: chemsmoke
        map: ["enum.ChemistryEffectLayers.Base"]
  - type: Occluder
  - type: Transform
    anchored: true
  - type: SmokeSolutionAreaEffect
  - type: SolutionContainerManager
    solutions:
      solutionArea:
        maxVol: 600
        canReact: false

# Foam Gas
- type: entity
  id: Foam
  parent: ChemEffectBase
  name: foam
  components:
  - type: Sprite
    netsync: false
    drawdepth: Effects
    color: "#ffffffcc" #Add some transparency
    sprite: Effects/foam.rsi
    layers:
      - state: foam
        map: ["enum.ChemistryEffectLayers.Base"]
      - state: foam-dissolve
        visible: false
        map: ["enum.ChemistryEffectLayers.Animation"]
  - type: Transform
    anchored: true
  - type: Physics
  - type: Fixtures
    fixtures:
    - hard: false
      shape:
        !type:PhysShapeAabb
        bounds: "-0.4,-0.4,0.4,0.4"
      mask:
      - ItemMask
      layer:
      - SlipLayer
  - type: FoamSolutionAreaEffect
  - type: SolutionContainerManager
    solutions:
      solutionArea:
        maxVol: 600
        canReact: false
  - type: Slippery
  - type: StepTrigger
  - type: ChemistryEffectVisuals
    animationTime: 5

- type: entity
  id: IronMetalFoam
  parent: Foam
  name: iron metal foam
  noSpawn: true
  components:
  - type: Sprite
    state: mfoam
    layers:
    - state: mfoam
      map: ["enum.ChemistryEffectLayers.Base"]
    - state: mfoam-dissolve
      visible: false
      map: ["enum.ChemistryEffectLayers.Animation"]
  - type: FoamSolutionAreaEffect
    foamedMetalPrototype: FoamedIronMetal

- type: entity
  id: AluminiumMetalFoam
  name: aluminium metal foam
  parent: Foam
  noSpawn: true
  components:
  - type: Sprite
    layers:
      - state: mfoam
        map: ["enum.ChemistryEffectLayers.Base"]
      - state: mfoam-dissolve
        visible: false
        map: ["enum.ChemistryEffectLayers.Animation"]
  - type: FoamSolutionAreaEffect
    foamedMetalPrototype: FoamedAluminiumMetal

# Vapor
- type: entity
  id: Vapor
  parent: ChemEffectBase
  name: "vapor"
  components:
  - type: Sprite
    netsync: false
    sprite: Effects/chempuff.rsi
    rotation: 90
    layers:
    - state: chempuff
      map: ["enum.ChemistryEffectLayers.Animation"]
  - type: SolutionContainerManager
    solutions:
      vapor:
        maxVol: 50
  - type: Vapor
  - type: Physics
    bodyType: Dynamic
  - type: Fixtures
    fixtures:
    - shape:
        !type:PhysShapeAabb
        bounds: "-0.25,-0.25,0.25,0.25"
      hard: false
      mask:
      - FullTileMask
      - Opaque

- type: entity
  name: extinguisher spray
  id: ExtinguisherSpray
  parent: Vapor
  noSpawn: true
  components:
  - type: Sprite
    sprite: Effects/extinguisherSpray.rsi
    layers:
      - state: extinguish
        map: [ "enum.ChemistryEffectLayers.Animation"]
  - type: ChemistryEffectVisuals
    animationTime: 0.8
